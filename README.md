# llvm-compiler-demo

本地jdk1.8有问题，请使用openjdk18版本

经排查，仅可使用java9及以上版本，由于8->9时buffer类的函数接口发生了变化


## 词法分析
- 注意空白符

## 语法分析
- 注意结合性，antlr默认左结合，但当采用了 cond (AND cond)* 的形式时会变成右结合
- 高亮部分可以采用表驱动简化输出逻辑，终结符的表可以从自动生成的 Lexer 中获得

## 语义分析
- 构建符号表时注意作用域嵌套逻辑，注意父子作用域之间要互相引用
- 构建符号表时注意函数参数名称不能直接通过 param.getText() 获得，必须是 IDENT 对应的字符串 
- rename 需要进行两次语法树遍历，第一次遍历定位输入的行列对应的变量究竟是哪个作用域下的变量，第二次遍历对所有匹配的变量进行修改  
- rename 时的思考，是否可以通过在生成符号表时为符号表元素增加一个在哪里使用的字段来简化 rename
